---
layout: post
title: RS232 on a PIC - finally some results
date: '2009-02-08T18:07:00.006+01:00'
author: Steven Van Acker
tags:
- English
- PIC
- Windows
- Building Stuff
- Rant
modified_time: '2009-02-08T18:29:39.679+01:00'
blogger_id: tag:blogger.com,1999:blog-5513234137363262204.post-2671694779190461467
blogger_orig_url: http://www.singularity.be/2009/02/rs232-on-pic-finally-some-results.html
---

<!-- StevensBlogSpotFilterThing<br />This past week, I've tried to get RS232 communication working between my PC and 16F627 PIC over a serial cable. And finally succeeded today.<br /><br />[IMG:http://data.singularity.be/images/full/2009/02/02/cimg1935.jpg][IMG:http://data.singularity.be/images/full/2009/02/02/cimg1936.jpg][IMG:http://data.singularity.be/images/full/2009/02/02/cimg1937.jpg][IMG:http://data.singularity.be/images/full/2009/02/03/cimg1939.jpg]<br /><br />Here are a couple lessons I've learned:<br /><br /><h3>Windows is a piece of turd - getting the PIC programmer working in Linux</h3><br />I've said it before, but I can't repeat it enough: Windows is crap. One could say that <br />the development platform created by Microchip is probably the best to do PIC programming, but it's not. I've been using GPSim to do my simulations and codetesting under linux and it works fantastically. <br /><br />I would have used Linux for the entire development and testing, but my PIC programmer (Velleman K8048) seemed unsupported in Linux. Everytime I had some working code, I had to reboot to Windows just so I could burn the code on a PIC. That's just stupid.<br /><br />Luckily I've found a way to program the PIC from Linux.<br /><br /><h3>Moving an IC between programmer and breadboard all the time comes at a cost - ICSP</h3><br />Moving the PIC between programmer and breadboard all the time has an unforeseen side-effect: after a while pins start being bent and break off. I've lost 3 already.<br /><br />Instead of moving the PIC around all the time I figured it would be better to use ICSP. So I created a cable for it and tried it out: no joy.<br /><br />I don't know why it doesn't work, more research and testing is needed.<br /><br /><h3>When the oscilloscope is showing some weird Klingonlike signal, something is wrong with it</h3><br /><br />Meaning when it looks like this:<br />[IMG:http://data.singularity.be/images/full/2009/02/03/cimg1941.jpg]<br /><br />I found out that the cable of the scope is damaged or broken in some way. After replacing it, the signal looked OK.<br /><br /><h3>Simulation environments differ from the real world</h3><br />GPSim runs with a 20MHz clock while the internal oscillator of my PIC runs at 4Mhz. Blindly uploading the same code to the PIC will therefor not work. It needs to be modified to take that lover speed in to account.<br />StevensBlogSpotFilterThing --><br />This past week, I've tried to get RS232 communication working between my PC and 16F627 PIC over a serial cable. And finally succeeded today.<br /><br /><a href="http://data.singularity.be/images/full/2009/02/02/cimg1935.jpg"><img src="http://data.singularity.be/images/thumb/2009/02/02/cimg1935.jpg.png"></a><a href="http://data.singularity.be/images/full/2009/02/02/cimg1936.jpg"><img src="http://data.singularity.be/images/thumb/2009/02/02/cimg1936.jpg.png"></a><a href="http://data.singularity.be/images/full/2009/02/02/cimg1937.jpg"><img src="http://data.singularity.be/images/thumb/2009/02/02/cimg1937.jpg.png"></a><a href="http://data.singularity.be/images/full/2009/02/03/cimg1939.jpg"><img src="http://data.singularity.be/images/thumb/2009/02/03/cimg1939.jpg.png"></a><br /><br />Here are a couple lessons I've learned:<br /><br /><h3>Windows is a piece of turd - getting the PIC programmer working in Linux</h3><br />I've said it before, but I can't repeat it enough: Windows is crap. One could say that <br />the development platform created by Microchip is probably the best to do PIC programming, but it's not. I've been using GPSim to do my simulations and codetesting under linux and it works fantastically. <br /><br />I would have used Linux for the entire development and testing, but my PIC programmer (Velleman K8048) seemed unsupported in Linux. Everytime I had some working code, I had to reboot to Windows just so I could burn the code on a PIC. That's just stupid.<br /><br />Luckily I've found a way to program the PIC from Linux.<br /><br /><h3>Moving an IC between programmer and breadboard all the time comes at a cost - ICSP</h3><br />Moving the PIC between programmer and breadboard all the time has an unforeseen side-effect: after a while pins start being bent and break off. I've lost 3 already.<br /><br />Instead of moving the PIC around all the time I figured it would be better to use ICSP. So I created a cable for it and tried it out: no joy.<br /><br />I don't know why it doesn't work, more research and testing is needed.<br /><br /><h3>When the oscilloscope is showing some weird Klingonlike signal, something is wrong with it</h3><br /><br />Meaning when it looks like this:<br /><a href="http://data.singularity.be/images/full/2009/02/03/cimg1941.jpg"><img src="http://data.singularity.be/images/thumb/2009/02/03/cimg1941.jpg.png"></a><br /><br />I found out that the cable of the scope is damaged or broken in some way. After replacing it, the signal looked OK.<br /><br /><h3>Simulation environments differ from the real world</h3><br />GPSim runs with a 20MHz clock while the internal oscillator of my PIC runs at 4Mhz. Blindly uploading the same code to the PIC will therefor not work. It needs to be modified to take that lover speed in to account.