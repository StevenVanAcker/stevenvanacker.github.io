<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Singularity.be &middot; Flawed logic inspecting flawed logic
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Singularity.be
        </a>
      </h1>
      <p class="lead">Steven Van Acker's blog</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
        
      
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/projects/">Projects</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/publications/">Publications</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    </nav>

    <!-- <p>&copy; 2016. All rights reserved.</p> -->
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2008/08/12/actie/">
        actie !
      </a>
    </h1>

    <span class="post-date">12 Aug 2008</span>

    <!-- StevensBlogSpotFilterThing<br />De voorbije dagen heb ik gespendeerd aan voorbereiding voor de dodentocht, de dodentocht zelfs en bekomen van de dodentocht. Tegen volgend jaar moet die voorbereiding veel beter.<br /><br />Nu is het tijd om gebruik te maken van mijn vakantie. Ik heb weer een hele hoop dingen die gedaan moeten worden en daar begin ik vandaag aan.<br /><br /><ul><br /><li>Opruimen</li><br /><li>Rekeningen nakijken en in orde brengen</li><br /><li>Aangetekende brief versturen</li><br /><li>Langs argenta gaan om een bestendige opdracht te laten aanpassen</li><br /></ul><br /><br />Allemaal saaie troep dus, maar dingen die moeten gebeuren voordat ik toffere dingen kan doen.<br />StevensBlogSpotFilterThing --><br />De voorbije dagen heb ik gespendeerd aan voorbereiding voor de dodentocht, de dodentocht zelfs en bekomen van de dodentocht. Tegen volgend jaar moet die voorbereiding veel beter.<br /><br />Nu is het tijd om gebruik te maken van mijn vakantie. Ik heb weer een hele hoop dingen die gedaan moeten worden en daar begin ik vandaag aan.<br /><br /><ul><br /><li>Opruimen</li><br /><li>Rekeningen nakijken en in orde brengen</li><br /><li>Aangetekende brief versturen</li><br /><li>Langs argenta gaan om een bestendige opdracht te laten aanpassen</li><br /></ul><br /><br />Allemaal saaie troep dus, maar dingen die moeten gebeuren voordat ik toffere dingen kan doen.
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2008/08/01/automating-smf-forum-installation/">
        Automating SMF forum installation
      </a>
    </h1>

    <span class="post-date">01 Aug 2008</span>

    <!-- StevensBlogSpotFilterThing<br />I decided to look at SMF instead of phpBB as the forum of choice because SMF has OpenID support built in already.<br /><br />Just like I did previously for Mediawiki, I also plan to create a puppet recipe to install SMF. The first step is to automate the installation from the commandline. Just like MediaWiki, SMF expects you to surf to your freshly unpacked software and fill in some required fields. It will then create a configfile and database and such.<br /><br />This is the process I used to do everything from commandline:<br /><br />[PRE]<br />cd /tmp/<br />wget http://www.simplemachines.org/download/index.php/smf_2-0-beta3-1p_install.tar.bz2<br />mkdir /var/www/planet/planet.blabla.be/html/smf<br />cd /var/www/planet/planet.blabla.be/html/smf<br />tar -xjf /tmp/smf_2-0-beta3-1p_install.tar.bz2<br />chmod a+rw * ### This is obviously bad, but I'm too lazy to pick the files that I need to chmod at the moment<br />[/PRE]<br /><br />Create a file bla1.php:<br />[PRE]<br />&lt;?<br />$_GET["step"] = 1;<br />$_SERVER["HTTP_HOST"]       = "planet.blabla.be";<br />$_SERVER["PHP_SELF"]        = "/smf/install.php";<br />$_SERVER["HTTP_USER_AGENT"] = "installer";<br />$_POST["mbname"]         = "My Community";<br />$_POST["boardurl"]       = "http://planet.blabla.be/smf";<br />$_POST["compress"]       = "on";<br />$_POST["dbsession"]      = "on";<br />$_POST["db_type"]        = "mysql";<br />$_POST["db_server"]      = "localhost";<br />$_POST["db_user"]        = "root";<br />$_POST["db_passwd"]      = "";<br />$_POST["db_name"]        = "smf";<br />$_POST["db_filename"]    = "smf_12e728c1c8";<br />$_POST["db_prefix"]      = "smf_";<br /><br />include "install.php"; ?&gt;<br />[/PRE]<br /><br />create a file bla2.php:<br />[PRE]<br />&lt;?<br />$_GET["step"]            = 2;<br />$_SERVER["HTTP_HOST"]       = "planet.blabla.be";<br />$_SERVER["PHP_SELF"]        = "/smf/install.php";<br />$_SERVER["HTTP_USER_AGENT"] = "installer";<br />$_POST["username"]       = "xxx";<br />$_POST["password1"]      = "xxxx";<br />$_POST["password2"]      = "xxxx";<br />$_POST["email"]          = "test@test.com";<br />$_POST["password3"]      = "";<br /><br />include "install.php"; ?&gt;<br />[/PRE]<br /><br />Execute the scripts:<br />[PRE]<br />php bla1.php<br />php bla2.php<br />[/PRE]<br /><br />Enable OpenID:<br />[PRE]<br />echo "INSERT INTO smf_settings VALUES ('enableOpenID','1');" | mysql smf<br />[/PRE]<br /><br />Finish installation by removing some files:<br />[PRE]<br />rm -f install.php bla1.php bla2.php<br />[/PRE]<br />StevensBlogSpotFilterThing --><br />I decided to look at SMF instead of phpBB as the forum of choice because SMF has OpenID support built in already.<br /><br />Just like I did previously for Mediawiki, I also plan to create a puppet recipe to install SMF. The first step is to automate the installation from the commandline. Just like MediaWiki, SMF expects you to surf to your freshly unpacked software and fill in some required fields. It will then create a configfile and database and such.<br /><br />This is the process I used to do everything from commandline:<br /><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />cd /tmp/<br />wget http://www.simplemachines.org/download/index.php/smf_2-0-beta3-1p_install.tar.bz2<br />mkdir /var/www/planet/planet.blabla.be/html/smf<br />cd /var/www/planet/planet.blabla.be/html/smf<br />tar -xjf /tmp/smf_2-0-beta3-1p_install.tar.bz2<br />chmod a+rw * ### This is obviously bad, but I'm too lazy to pick the files that I need to chmod at the moment<br /></pre><br /><br />Create a file bla1.php:<br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />&lt;?<br />$_GET["step"] = 1;<br />$_SERVER["HTTP_HOST"]       = "planet.blabla.be";<br />$_SERVER["PHP_SELF"]        = "/smf/install.php";<br />$_SERVER["HTTP_USER_AGENT"] = "installer";<br />$_POST["mbname"]         = "My Community";<br />$_POST["boardurl"]       = "http://planet.blabla.be/smf";<br />$_POST["compress"]       = "on";<br />$_POST["dbsession"]      = "on";<br />$_POST["db_type"]        = "mysql";<br />$_POST["db_server"]      = "localhost";<br />$_POST["db_user"]        = "root";<br />$_POST["db_passwd"]      = "";<br />$_POST["db_name"]        = "smf";<br />$_POST["db_filename"]    = "smf_12e728c1c8";<br />$_POST["db_prefix"]      = "smf_";<br /><br />include "install.php"; ?&gt;<br /></pre><br /><br />create a file bla2.php:<br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />&lt;?<br />$_GET["step"]            = 2;<br />$_SERVER["HTTP_HOST"]       = "planet.blabla.be";<br />$_SERVER["PHP_SELF"]        = "/smf/install.php";<br />$_SERVER["HTTP_USER_AGENT"] = "installer";<br />$_POST["username"]       = "xxx";<br />$_POST["password1"]      = "xxxx";<br />$_POST["password2"]      = "xxxx";<br />$_POST["email"]          = "test@test.com";<br />$_POST["password3"]      = "";<br /><br />include "install.php"; ?&gt;<br /></pre><br /><br />Execute the scripts:<br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />php bla1.php<br />php bla2.php<br /></pre><br /><br />Enable OpenID:<br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />echo "INSERT INTO smf_settings VALUES ('enableOpenID','1');" | mysql smf<br /></pre><br /><br />Finish installation by removing some files:<br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />rm -f install.php bla1.php bla2.php<br /></pre>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2008/07/31/mediawiki-openid-under-fedora-9-success/">
        MediaWiki + OpenID under fedora 9: success !
      </a>
    </h1>

    <span class="post-date">31 Jul 2008</span>

    <!-- StevensBlogSpotFilterThing<br />I finally managed to get things working, although it involved using original sources instead of RPMs.<br /><br />I made 2 main errors:<br /><ul><br /><li>My MediaWiki was too old, and I needed to install it from source. I hope I can find more recent RPM packages or maybe I can convince the maintainer to upgrade to the latest version</li><br /><li>I set $wgTrustRoot in /var/local/wiki/LocalSettings.php, which is the wrong place. I needed to set that in OpenID.setup.php instead.</li><br /></ul><br /><br />I hope to post a full guide soon, followed by a puppet recipe<br />StevensBlogSpotFilterThing --><br />I finally managed to get things working, although it involved using original sources instead of RPMs.<br /><br />I made 2 main errors:<br /><ul><br /><li>My MediaWiki was too old, and I needed to install it from source. I hope I can find more recent RPM packages or maybe I can convince the maintainer to upgrade to the latest version</li><br /><li>I set $wgTrustRoot in /var/local/wiki/LocalSettings.php, which is the wrong place. I needed to set that in OpenID.setup.php instead.</li><br /></ul><br /><br />I hope to post a full guide soon, followed by a puppet recipe
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2008/07/31/mediawiki-openid-fc9-undefined-function/">
        Mediawiki + OpenID (FC9): undefined function wfLoadExtensionMessages
      </a>
    </h1>

    <span class="post-date">31 Jul 2008</span>

    <!-- StevensBlogSpotFilterThing<br />Yesterday I ran into this problem:<br /><br />[PRE]<br />[Tue Jul 22 15:59:58 2008] [error] [client 172.16.1.2] PHP Fatal error:  Call to undefined function wfLoadExtensionMessages() in /usr/share/mediawiki/extensions/OpenID/OpenID.setup.php on line 153<br />[/PRE]<br /><br />Through google cache I found a reason for this error:<br />[PRE]<br /> The problem is that wfLoadExtensionMessages was added in a later version of MediaWiki around 1.10 or 1.11 whereas I am using 1.8.2 which does not have this function.<br />[/PRE]<br /><br />The version of mediawiki in Fedora 9 at this moment is 1.10.4, which is too old.<br />I pondered patching the code and defining this function, but I think it would be a bad idea.<br /><br />wfLoadExtensionMessages is a localization function used to load i18n messages from mediawiki extensions: <a href="http://www.mediawiki.org/wiki/Manual:Extensions#Internationalizing_your_extension">http://www.mediawiki.org/wiki/Manual:Extensions#Internationalizing_your_extension</a><br /><br />Maybe I should install from source *shrug*<br />StevensBlogSpotFilterThing --><br />Yesterday I ran into this problem:<br /><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />[Tue Jul 22 15:59:58 2008] [error] [client 172.16.1.2] PHP Fatal error:  Call to undefined function wfLoadExtensionMessages() in /usr/share/mediawiki/extensions/OpenID/OpenID.setup.php on line 153<br /></pre><br /><br />Through google cache I found a reason for this error:<br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br /> The problem is that wfLoadExtensionMessages was added in a later version of MediaWiki around 1.10 or 1.11 whereas I am using 1.8.2 which does not have this function.<br /></pre><br /><br />The version of mediawiki in Fedora 9 at this moment is 1.10.4, which is too old.<br />I pondered patching the code and defining this function, but I think it would be a bad idea.<br /><br />wfLoadExtensionMessages is a localization function used to load i18n messages from mediawiki extensions: <a href="http://www.mediawiki.org/wiki/Manual:Extensions#Internationalizing_your_extension">http://www.mediawiki.org/wiki/Manual:Extensions#Internationalizing_your_extension</a><br /><br />Maybe I should install from source *shrug*
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2008/07/30/mediawiki-openid-on-fedora-9/">
        Mediawiki + OpenID on fedora 9
      </a>
    </h1>

    <span class="post-date">30 Jul 2008</span>

    <!-- StevensBlogSpotFilterThing<br />I've been looking at OpenID under fedora more closely and found that the php-pear-Auth-OpenID package is maintained by Axel Thimm. I also found that there are bugreports running aginst this package and that the last <a href="https://bugzilla.redhat.com/show_bug.cgi?id=227190">mail related to one of those bugs</a> was sent today.<br /><br />This mail contains a link to the source RPM and specfile, which is reason enough for me to give it a go.<br /><br /><br />First, build and install php-pear-Auth-OpenID<br /><br />[PRE]<br />yum install rpm-build php-pear php-bcmath php-pear-Net-Curl<br />mkdir -p /usr/src/redhat<br /><br />cd /tmp<br />wget http://dl.atrpms.net/all/php-pear-Auth-OpenID-2.1.1-5.src.rpm<br />rpm -i php-pear-Auth-OpenID-2.1.1-5.src.rpm<br /><br />cd /usr/src/redhat/SPECS/<br />rpmbuild -ba php-pear-Auth-OpenID.spec<br /><br />rpm -i ../RPMS/noarch/php-pear-Auth-OpenID-2.1.1-5.fc9.noarch.rpm<br />[/PRE]<br /><br />Make some forgotten symlink...<br />[PRE]<br />ln -s /usr/share/pear/Auth_OpenID/ /usr/share/pear/Auth<br />[/PRE]<br /><br />Next, install mediawiki-openid from ATrpms<br /><br />[PRE]<br />(cat &lt;&lt;EOF;<br />[atrpms]<br />name=Fedora Core \$releasever - \$basearch - ATrpms<br />baseurl=http://dl.atrpms.net/f\$releasever-\$basearch/atrpms/stable<br />gpgkey=http://ATrpms.net/RPM-GPG-KEY.atrpms<br />gpgcheck=1<br />EOF<br />) > /etc/yum.repos.d/atrpms.repo<br /><br />yum install mediawiki-openid<br />[/PRE]<br /><br />Finally, set up mediawiki-openid<br />[PRE]<br />ln -s /usr/share/mediawiki/extensions/ /var/www/wiki/<br />mysql wikidb < /usr/share/doc/mediawiki-openid-0.8.2/openid_table.sql<br />echo 'require_once("$IP/extensions/OpenID/OpenID.setup.php");' >> /var/www/wiki/LocalSettings.php<br />[/PRE]<br /><br />And the result ? It doesn't work ! How exciting<br /><br />I keep getting errors like these:<br />[PRE]<br />[Tue Jul 22 15:59:58 2008] [error] [client 172.16.1.2] PHP Warning:  Missing argument 2 for OpenIDArticleViewHeader() in /usr/share/mediawiki/extensions/OpenID/OpenID.setup.php on line 168<br />[Tue Jul 22 15:59:58 2008] [error] [client 172.16.1.2] PHP Warning:  Missing argument 3 for OpenIDArticleViewHeader() in /usr/share/mediawiki/extensions/OpenID/OpenID.setup.php on line 168<br />[Tue Jul 22 15:59:58 2008] [error] [client 172.16.1.2] PHP Fatal error:  Call to undefined function wfLoadExtensionMessages() in /usr/share/mediawiki/extensions/OpenID/OpenID.setup.php on line 153<br />[/PRE]<br /><br /><br />StevensBlogSpotFilterThing --><br />I've been looking at OpenID under fedora more closely and found that the php-pear-Auth-OpenID package is maintained by Axel Thimm. I also found that there are bugreports running aginst this package and that the last <a href="https://bugzilla.redhat.com/show_bug.cgi?id=227190">mail related to one of those bugs</a> was sent today.<br /><br />This mail contains a link to the source RPM and specfile, which is reason enough for me to give it a go.<br /><br /><br />First, build and install php-pear-Auth-OpenID<br /><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />yum install rpm-build php-pear php-bcmath php-pear-Net-Curl<br />mkdir -p /usr/src/redhat<br /><br />cd /tmp<br />wget http://dl.atrpms.net/all/php-pear-Auth-OpenID-2.1.1-5.src.rpm<br />rpm -i php-pear-Auth-OpenID-2.1.1-5.src.rpm<br /><br />cd /usr/src/redhat/SPECS/<br />rpmbuild -ba php-pear-Auth-OpenID.spec<br /><br />rpm -i ../RPMS/noarch/php-pear-Auth-OpenID-2.1.1-5.fc9.noarch.rpm<br /></pre><br /><br />Make some forgotten symlink...<br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />ln -s /usr/share/pear/Auth_OpenID/ /usr/share/pear/Auth<br /></pre><br /><br />Next, install mediawiki-openid from ATrpms<br /><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />(cat &lt;&lt;EOF;<br />[atrpms]<br />name=Fedora Core \$releasever - \$basearch - ATrpms<br />baseurl=http://dl.atrpms.net/f\$releasever-\$basearch/atrpms/stable<br />gpgkey=http://ATrpms.net/RPM-GPG-KEY.atrpms<br />gpgcheck=1<br />EOF<br />) > /etc/yum.repos.d/atrpms.repo<br /><br />yum install mediawiki-openid<br /></pre><br /><br />Finally, set up mediawiki-openid<br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />ln -s /usr/share/mediawiki/extensions/ /var/www/wiki/<br />mysql wikidb < /usr/share/doc/mediawiki-openid-0.8.2/openid_table.sql<br />echo 'require_once("$IP/extensions/OpenID/OpenID.setup.php");' >> /var/www/wiki/LocalSettings.php<br /></pre><br /><br />And the result ? It doesn't work ! How exciting<br /><br />I keep getting errors like these:<br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />[Tue Jul 22 15:59:58 2008] [error] [client 172.16.1.2] PHP Warning:  Missing argument 2 for OpenIDArticleViewHeader() in /usr/share/mediawiki/extensions/OpenID/OpenID.setup.php on line 168<br />[Tue Jul 22 15:59:58 2008] [error] [client 172.16.1.2] PHP Warning:  Missing argument 3 for OpenIDArticleViewHeader() in /usr/share/mediawiki/extensions/OpenID/OpenID.setup.php on line 168<br />[Tue Jul 22 15:59:58 2008] [error] [client 172.16.1.2] PHP Fatal error:  Call to undefined function wfLoadExtensionMessages() in /usr/share/mediawiki/extensions/OpenID/OpenID.setup.php on line 153<br /></pre>
  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page15">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page13">Newer</a>
    
  
</div>

    </div>

  </body>
</html>
