<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Using S/MIME in Evolution &middot; Singularity.be
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Singularity.be
        </a>
      </h1>
      <p class="lead">Steven Van Acker's blog</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
        
      
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/projects/">Projects</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/publications/">Publications</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    </nav>

    <!-- <p>&copy; 2016. All rights reserved.</p> -->
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Using S/MIME in Evolution</h1>
  <span class="post-date">12 Mar 2008</span>
  S/MIME is a method to send signed and/or encrypted messages through E-mail. <br />It's relatively easy to setup in Evolution:<br /><br /><b>Step 1: Create an SSL key and certificate</b><br /><br />First thing to do, is create a private key for yourself, and generate a CSR (certificate signing request) from it.<br /><br /><blockquote><br />openssl req -out myname.csr -pubkey -new -keyout myname.key<br /></blockquote><br /><br />Fill in some details about where you are and who you are. When asked for a password, enter a password ;) If someone steals your private key, they can impersonate you and that's not what you want to use S/MIME for.<br /><br />Now send the myname.csr file to someone who can sign it (a certificate authority). You'll get a myname.crt file back. (Look elsewhere for information on how to create your own CA and sign it yourself)<br /><br />Evolution expects a PKCS12 file, which is a file format that holds both the private key and the certificate. You can create it as follows:<br /><br /><blockquote><br />openssl pkcs12 -export -inkey myname.key -in myname.crt -out myname.pkcs12<br /></blockquote><br /><br />Now the stage is set. Enter Evolution.<br /><br /><b>Step 2: Import it into Evolution</b><br /><br />Edit -> Preferences<br />Click the Certificates tab, then the "Your Certificates" tab and then "Import"<br />Find the myname.pkcs12 file you just created and click "OK".<br />You'll be asked for a password of the certificate, and another password to protect your keystore.<br /><br />If you are using a selfsigned certificate (like me), you need to import your CA certificate as well.<br /><br />To do that, you first need to find your CA certificate ;) Poke the person who signed your certificate in the ribs and ask him for this certificate.<br />Next, go to Edit -> Preferences -> Certificates -> Authorities<br />Click on "Import", select the CA certificate file and click OK.<br /><br />Evolution will ask you about trust settings. We want to use these certificates for E-mail, so that's the second option "Trust this CA to identify email users".<br />Of course, this only applies to us when we receive mails that were signed or encrypted by someone else. But it's important when you want to test by sending mail to yourself.<br /><br />Certificates are locked and loaded. Now it's time to use them.<br /><br /><b>Step 3: Enable the S/MIME signing and/or encrypting</b><br /><br />Go to Edit -> Preferences -> Mail Accounts, select your account and click "Edit".<br />Find the "Security" tab and the "Secure MIME (S/MIME)" section under it.<br /><br />You can either sign mails, encrypt them, or do both. I sign and encrypt them by default. (Encrypting mails will only make sense if you have the public key of the recipient).<br /><br />Don't forget to set "Also encrypt to self when sending encrypted mail" if you want to try this out by sending mail to yourself.<br /><br />Now if only amazon and other phished internet services started using this...
</div>


    </div>

  </body>
</html>
