<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Singularity.be &middot; Flawed logic inspecting flawed logic
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Singularity.be
        </a>
      </h1>
      <p class="lead">Steven Van Acker's blog</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
        
      
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/projects/">Projects</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/publications/">Publications</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    </nav>

    <!-- <p>&copy; 2016. All rights reserved.</p> -->
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2008/07/29/rpm-dependency-hell/">
        RPM dependency hell
      </a>
    </h1>

    <span class="post-date">29 Jul 2008</span>

    <!-- StevensBlogSpotFilterThing<br />Now that I've automated the installation of mediawiki on Fedora 9 using puppet, I thought I'd see if I could install the OpenID extension for mediawiki and maybe automate that installation as well.<br /><br />Unfortunately, the mediawiki-openid extension requires php-openid (OpenID implementation in PHP) which is not to be found in the standard Fedora repositories. However, I have found it in the <a href="http://atrpms.net/dist/f9/">ATrpms Fedora 9 repository</a>. After adding that one in my yum config it showed that it also contained a mediawiki-openid package. Things were looking up!<br /><br />However, this is the error I get when trying to install said package:<br /><br />[PRE]<br />[root@localhost ~]# yum install mediawiki-openid.noarch <br />atrpms                                                   |  951 B     00:00    <br />fedora                                                   | 2.4 kB     00:00    <br />updates                                                  | 2.3 kB     00:00    <br />Setting up Install Process<br />Parsing package install arguments<br />Resolving Dependencies<br />--&gt; Running transaction check<br />---&gt; Package mediawiki-openid.noarch 0:0.8.2-7 set to be updated<br />--&gt; Processing Dependency: php-pear-Auth-OpenID >= 2.0.1 for package: mediawiki-openid<br />--&gt; Running transaction check<br />---&gt; Package php-pear-Auth-OpenID.noarch 0:2.0.1-4.fc8_93 set to be updated<br />--&gt; Processing Dependency: php-pear-DB >= 1.80 for package: php-pear-Auth-OpenID<br />--&gt; Processing Dependency: php-pear for package: php-pear-Auth-OpenID<br />--&gt; Processing Dependency: php-pear-Net-Curl for package: php-pear-Auth-OpenID<br />--&gt; Processing Dependency: php-bcmath for package: php-pear-Auth-OpenID<br />--&gt; Processing Dependency: php-pear(PEAR) for package: php-pear-Auth-OpenID<br />--&gt; Running transaction check<br />---&gt; Package php-pear-Auth-OpenID.noarch 0:2.0.1-4.fc8_93 set to be updated<br />--&gt; Processing Dependency: php-pear-DB >= 1.80 for package: php-pear-Auth-OpenID<br />---&gt; Package php-pear.noarch 1:1.7.1-2.fc9 set to be updated<br />---&gt; Package php-bcmath.i386 0:5.2.6-2.fc9 set to be updated<br />---&gt; Package php-pear-Net-Curl.noarch 0:1.2.5-1.fc9 set to be updated<br />--&gt; Finished Dependency Resolution<br />php-pear-Auth-OpenID-2.0.1-4.fc8_93.noarch from atrpms has depsolving problems<br />  --&gt; Missing Dependency: php-pear-DB &gt;= 1.80 is needed by package php-pear-Auth-OpenID-2.0.1-4.fc8_93.noarch (atrpms)<br />Error: Missing Dependency: php-pear-DB &gt;= 1.80 is needed by package php-pear-Auth-OpenID-2.0.1-4.fc8_93.noarch (atrpms)<br />[root@localhost ~]# <br />[/PRE]<br /><br />That's right: broken dependencies. I guess I should have expected this since I'm using a 3rd party repository, but even then I wonder why the php-openid package isn't packaged by Fedora by default ? After all, it comes from the <a href="http://openidenabled.com/php-openid/">same website as python-openid and ruby-openid</a>, both of which are in the standard Fedora 9 repositories...<br /><br />StevensBlogSpotFilterThing --><br />Now that I've automated the installation of mediawiki on Fedora 9 using puppet, I thought I'd see if I could install the OpenID extension for mediawiki and maybe automate that installation as well.<br /><br />Unfortunately, the mediawiki-openid extension requires php-openid (OpenID implementation in PHP) which is not to be found in the standard Fedora repositories. However, I have found it in the <a href="http://atrpms.net/dist/f9/">ATrpms Fedora 9 repository</a>. After adding that one in my yum config it showed that it also contained a mediawiki-openid package. Things were looking up!<br /><br />However, this is the error I get when trying to install said package:<br /><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />[root@localhost ~]# yum install mediawiki-openid.noarch <br />atrpms                                                   |  951 B     00:00    <br />fedora                                                   | 2.4 kB     00:00    <br />updates                                                  | 2.3 kB     00:00    <br />Setting up Install Process<br />Parsing package install arguments<br />Resolving Dependencies<br />--&gt; Running transaction check<br />---&gt; Package mediawiki-openid.noarch 0:0.8.2-7 set to be updated<br />--&gt; Processing Dependency: php-pear-Auth-OpenID >= 2.0.1 for package: mediawiki-openid<br />--&gt; Running transaction check<br />---&gt; Package php-pear-Auth-OpenID.noarch 0:2.0.1-4.fc8_93 set to be updated<br />--&gt; Processing Dependency: php-pear-DB >= 1.80 for package: php-pear-Auth-OpenID<br />--&gt; Processing Dependency: php-pear for package: php-pear-Auth-OpenID<br />--&gt; Processing Dependency: php-pear-Net-Curl for package: php-pear-Auth-OpenID<br />--&gt; Processing Dependency: php-bcmath for package: php-pear-Auth-OpenID<br />--&gt; Processing Dependency: php-pear(PEAR) for package: php-pear-Auth-OpenID<br />--&gt; Running transaction check<br />---&gt; Package php-pear-Auth-OpenID.noarch 0:2.0.1-4.fc8_93 set to be updated<br />--&gt; Processing Dependency: php-pear-DB >= 1.80 for package: php-pear-Auth-OpenID<br />---&gt; Package php-pear.noarch 1:1.7.1-2.fc9 set to be updated<br />---&gt; Package php-bcmath.i386 0:5.2.6-2.fc9 set to be updated<br />---&gt; Package php-pear-Net-Curl.noarch 0:1.2.5-1.fc9 set to be updated<br />--&gt; Finished Dependency Resolution<br />php-pear-Auth-OpenID-2.0.1-4.fc8_93.noarch from atrpms has depsolving problems<br />  --&gt; Missing Dependency: php-pear-DB &gt;= 1.80 is needed by package php-pear-Auth-OpenID-2.0.1-4.fc8_93.noarch (atrpms)<br />Error: Missing Dependency: php-pear-DB &gt;= 1.80 is needed by package php-pear-Auth-OpenID-2.0.1-4.fc8_93.noarch (atrpms)<br />[root@localhost ~]# <br /></pre><br /><br />That's right: broken dependencies. I guess I should have expected this since I'm using a 3rd party repository, but even then I wonder why the php-openid package isn't packaged by Fedora by default ? After all, it comes from the <a href="http://openidenabled.com/php-openid/">same website as python-openid and ruby-openid</a>, both of which are in the standard Fedora 9 repositories...
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2008/07/28/ik-heb-inderdaad-mijn-rijbewijs-nu/">
        Ik heb inderdaad mijn rijbewijs nu :)
      </a>
    </h1>

    <span class="post-date">28 Jul 2008</span>

    <!-- StevensBlogSpotFilterThing<br />In mijn vorige post wou ik dus eigenlijk zeggen dat ik van mijn L verlost ben en nu vrij mag rondrijden !<br />StevensBlogSpotFilterThing --><br />In mijn vorige post wou ik dus eigenlijk zeggen dat ik van mijn L verlost ben en nu vrij mag rondrijden !
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2008/07/28/trage-administratie-niet-echt_28/">
        trage administratie ? Niet echt
      </a>
    </h1>

    <span class="post-date">28 Jul 2008</span>

    <!-- StevensBlogSpotFilterThing<br />[PRE]<br />Deze post werd dus blijkbaar toch niet gedelete door blogger...<br />[/PRE]<br /><br />Vorige week ben ik na 3 dagen intense voorbereiding mijn praktisch rij-examen gaan afleggen. Ik was er (uiteraard) door zonder opmerkingen. Omdat ik op donderdag geen tijd had om langs het stadhuis te gaan voor mijn definitief rijbewijs ben ik vrijdag geweest.<br /><br />Ik heb verhalen gehoord van mensen die urenlang in de rij moesten staan voor futuliteiten, maar ik heb dat zelf niet ervaren. Ik was binnen en buiten in 20 minuten, eindelijk verlost van mijn L.<br /><br />Een pluim voor de administratie van het stadhuis in Leuven !!<br /><br />De fotografe waar ik mijn pasfotos heb laten maken is echter een ander verhaal. Om 1 of andere reden duurt het ontwikkelen van die pasfotos 1 uur. Ik dacht dat dat misschien kwam doordat die fotos moesten ontwikkeld worden en zo, totdat de fotografe mij vlak na het trekken van de foto het schermpje van haar camera liet zien en vroeg of die foto OK was.<br /><br />...<br /><br />Waarom, als die foto digitaal is, duurt het een volledig uur voordat ik die foto kan meenemen ? Waar ik vroeger ging, werden pasfotos gewoon getrokken met een aangepast Polaroid fototoestel. Binnen en buiten in 3 minuten. Nu heb ik 1.5u moeten wachten op 4 pasfotos die dan nog digitaal getrokken zijn ook... Achteruitgang van de vooruitgang.<br /><br />Nu ik er zo over denk, waarom heb ik eigenlijk pasfotos nodig ? Ik heb toch een digitale identiteitskaart met daarop een digitale foto ? Pfff<br />StevensBlogSpotFilterThing --><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />Deze post werd dus blijkbaar toch niet gedelete door blogger...<br /></pre><br /><br />Vorige week ben ik na 3 dagen intense voorbereiding mijn praktisch rij-examen gaan afleggen. Ik was er (uiteraard) door zonder opmerkingen. Omdat ik op donderdag geen tijd had om langs het stadhuis te gaan voor mijn definitief rijbewijs ben ik vrijdag geweest.<br /><br />Ik heb verhalen gehoord van mensen die urenlang in de rij moesten staan voor futuliteiten, maar ik heb dat zelf niet ervaren. Ik was binnen en buiten in 20 minuten, eindelijk verlost van mijn L.<br /><br />Een pluim voor de administratie van het stadhuis in Leuven !!<br /><br />De fotografe waar ik mijn pasfotos heb laten maken is echter een ander verhaal. Om 1 of andere reden duurt het ontwikkelen van die pasfotos 1 uur. Ik dacht dat dat misschien kwam doordat die fotos moesten ontwikkeld worden en zo, totdat de fotografe mij vlak na het trekken van de foto het schermpje van haar camera liet zien en vroeg of die foto OK was.<br /><br />...<br /><br />Waarom, als die foto digitaal is, duurt het een volledig uur voordat ik die foto kan meenemen ? Waar ik vroeger ging, werden pasfotos gewoon getrokken met een aangepast Polaroid fototoestel. Binnen en buiten in 3 minuten. Nu heb ik 1.5u moeten wachten op 4 pasfotos die dan nog digitaal getrokken zijn ook... Achteruitgang van de vooruitgang.<br /><br />Nu ik er zo over denk, waarom heb ik eigenlijk pasfotos nodig ? Ik heb toch een digitale identiteitskaart met daarop een digitale foto ? Pfff
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2008/07/28/trage-administratie-niet-echt/">
        trage administratie ? Niet echt
      </a>
    </h1>

    <span class="post-date">28 Jul 2008</span>

    <!-- StevensBlogSpotFilterThing<br />...<br />Stomme blogger.<br />Ik heb zojuist een hele blogpost getikt met een rant over waarom het zo lang (1.5u) moet duren om pasfotos (digitaal getrokken) te ontwikkelen bij een fotograaf terwijl het maar 20 minuten duurt om de administratie rond het krijgen van een rijbewijs af te ronden in het stadhuis van Leuven (proficiat!)<br /><br />Maar blogger besloot een error in mijn gezicht te smijten en dan al mijn tekst op te eten.<br /><br />Nu vraag ik mij trouwens ook af waarom ik nog pasfotos nodig heb, sinds ik toch al een digitale ID-kaart heb met digitale foto erop...<br />StevensBlogSpotFilterThing --><br />...<br />Stomme blogger.<br />Ik heb zojuist een hele blogpost getikt met een rant over waarom het zo lang (1.5u) moet duren om pasfotos (digitaal getrokken) te ontwikkelen bij een fotograaf terwijl het maar 20 minuten duurt om de administratie rond het krijgen van een rijbewijs af te ronden in het stadhuis van Leuven (proficiat!)<br /><br />Maar blogger besloot een error in mijn gezicht te smijten en dan al mijn tekst op te eten.<br /><br />Nu vraag ik mij trouwens ook af waarom ik nog pasfotos nodig heb, sinds ik toch al een digitale ID-kaart heb met digitale foto erop...
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2008/07/23/puppet-no-wait-mediawiki-under-fedora-9/">
        Puppet ? No wait, mediawiki under Fedora 9
      </a>
    </h1>

    <span class="post-date">23 Jul 2008</span>

    <!-- StevensBlogSpotFilterThing<br />I was going to write about getting Puppet to work under Fedora 9, but I found out it's really nont difficult. As an excercise for myself I decided to try and make a puppet recipe for mediawiki.<br />This is turning out harder than expected. Not because puppet is so hard (it's really not), but because the mediawiki RPM package in Fedora 9 is terribly bad.<br /><br />As a comparison, let me tell you how to get mediawiki working on a freshly installed Debian. OK, ready ? Here it comes:<br /><br />[PRE]<br />apt-get install mediawiki<br />[/PRE]<br />And it's done !<br /><br />Right, now let's see what you need to do to get this working under Fedora 9. <br /><br />[PRE]yum install mediawiki[/PRE]<br />Everything starts off nice and fine<br /><br />[PRE]yum install mysql-server[/PRE]<br />Unlike under Debian, Fedora 9 doesn't assume that you want to have a local MySQL server running. By not installing it, it gives you the choice. Not a bad thing.<br /><br />[PRE]<br />chkconfig httpd on<br />service httpd start<br />chkconfig mysqld on<br />service mysqld start<br />[/PRE]<br />Things are already getting weird. Why would I install mediawiki and then not want to run httpd by default ?<br /><br />[PRE]<br />cp /etc/httpd/conf/httpd.conf /etc/httpd/conf/httpd.conf.orig<br />cat /etc/httpd/conf/httpd.conf.orig |sed 's:DocumentRoot \"/var.*:DocumentRoot \"/var/www\":' &gt; /etc/httpd/conf/httpd.conf<br />service httpd restart<br />[/PRE]<br />By default the DocumentRoot is set to /var/www/html, while mediawiki is installed under /var/www/wiki.<br /><br />[PRE]<br />system-config-firewall-tui -p 80:tcp<br />[/PRE]<br />Open up port 80 in the firewall, again this should have happened when I installed apache<br /><br />[PRE]<br />cd /tmp<br />mkdir config<br />cp /var/www/wiki/config/index.php config/index.php.orig<br />cat config/index.php.orig |sed 's:\$DIR=.*:\$DIR="/tmp";:' > config/index.php<br /><br /><br />(cat &lt;&lt;EOF;<br />&lt;?<br />\$_SERVER = array();<br />\$_POST = array();<br /><br />\$_SERVER["SCRIPT_NAME"] = "/wiki/config/index.php";<br />\$_SERVER["PHP_SELF"] = "/wiki/config/index.php";<br /><br />\$_SERVER["REQUEST_METHOD"] = "POST";<br /><br />\$_POST["Sitename"] = "My Little Wiki";<br />\$_POST["SysopPass"] = "xxx";<br />\$_POST["SysopPass2"] = "xxx";<br />\$_POST["DBtype"] = "mysql";<br />\$_POST["DBpassword"] = "xxx";<br />\$_POST["DBpassword2"] = "xxx";<br />\$_POST["useroot"] = "on";<br />\$_POST["RootPW"] = "";<br />\$_POST["DBprefix"] = "";<br /><br />include "config/index.php";<br />?&gt;<br />EOF<br />) &gt; genconfig.php<br /><br />php genconfig.php<br />cp config/LocalSettings.php /var/www/wiki/<br />rm -rf /tmp/genconfig.php /tmp/config<br />[/PRE]<br />What on earth is all this ? Well this code configures mediawiki with a default config. Instead of supplying a default config, Fedora lets you surf to your wiki, fill in some variables to generate a configfile, which you then have to copy to the correct place.<br /><br />In the script I just pasted, this is all done automagically. I fake the execution environment of the config/index.php script and execute it from commandline. It will create the necessary database and tables and generate a LocalSettings.php, which is then copied to the correct place.<br /><br />[PRE]ln -s /usr/share/mediawiki/skins/ /var/www/wiki/[/PRE]<br />After all this fiddling, the installed mediawiki still looks like crap. This is because the mediawiki apparently forgot where it placed the directory with all the skins. A symlink should fix that.<br /><br />[PRE]chmod a= /var/www/wiki/config[/PRE]<br />No need for this directory to be publicly avaiable.<br /><br />Some of you have commented that I should read the INSTALL file as specified on <a href="http://www.mediawiki.org/wiki/Manual:Running_MediaWiki_on_Fedora_Core">this wiki</a>.<br />Actually, I shouldn't have to because that's what packages are for. But just so you know, I did look there (/usr/share/mediawiki/INSTALL) (By the way, doesn't Fedora have some kind of policy where documentation should go ? What is /usr/share/doc for ?) and it doesn't mention anything about where to surf to (http://somewhere/wiki/) or whether or not to fix the skins directory.<br /><br /><br />StevensBlogSpotFilterThing --><br />I was going to write about getting Puppet to work under Fedora 9, but I found out it's really nont difficult. As an excercise for myself I decided to try and make a puppet recipe for mediawiki.<br />This is turning out harder than expected. Not because puppet is so hard (it's really not), but because the mediawiki RPM package in Fedora 9 is terribly bad.<br /><br />As a comparison, let me tell you how to get mediawiki working on a freshly installed Debian. OK, ready ? Here it comes:<br /><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />apt-get install mediawiki<br /></pre><br />And it's done !<br /><br />Right, now let's see what you need to do to get this working under Fedora 9. <br /><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;">yum install mediawiki</pre><br />Everything starts off nice and fine<br /><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;">yum install mysql-server</pre><br />Unlike under Debian, Fedora 9 doesn't assume that you want to have a local MySQL server running. By not installing it, it gives you the choice. Not a bad thing.<br /><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />chkconfig httpd on<br />service httpd start<br />chkconfig mysqld on<br />service mysqld start<br /></pre><br />Things are already getting weird. Why would I install mediawiki and then not want to run httpd by default ?<br /><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />cp /etc/httpd/conf/httpd.conf /etc/httpd/conf/httpd.conf.orig<br />cat /etc/httpd/conf/httpd.conf.orig |sed 's:DocumentRoot \"/var.*:DocumentRoot \"/var/www\":' &gt; /etc/httpd/conf/httpd.conf<br />service httpd restart<br /></pre><br />By default the DocumentRoot is set to /var/www/html, while mediawiki is installed under /var/www/wiki.<br /><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />system-config-firewall-tui -p 80:tcp<br /></pre><br />Open up port 80 in the firewall, again this should have happened when I installed apache<br /><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;"><br />cd /tmp<br />mkdir config<br />cp /var/www/wiki/config/index.php config/index.php.orig<br />cat config/index.php.orig |sed 's:\$DIR=.*:\$DIR="/tmp";:' > config/index.php<br /><br /><br />(cat &lt;&lt;EOF;<br />&lt;?<br />\$_SERVER = array();<br />\$_POST = array();<br /><br />\$_SERVER["SCRIPT_NAME"] = "/wiki/config/index.php";<br />\$_SERVER["PHP_SELF"] = "/wiki/config/index.php";<br /><br />\$_SERVER["REQUEST_METHOD"] = "POST";<br /><br />\$_POST["Sitename"] = "My Little Wiki";<br />\$_POST["SysopPass"] = "xxx";<br />\$_POST["SysopPass2"] = "xxx";<br />\$_POST["DBtype"] = "mysql";<br />\$_POST["DBpassword"] = "xxx";<br />\$_POST["DBpassword2"] = "xxx";<br />\$_POST["useroot"] = "on";<br />\$_POST["RootPW"] = "";<br />\$_POST["DBprefix"] = "";<br /><br />include "config/index.php";<br />?&gt;<br />EOF<br />) &gt; genconfig.php<br /><br />php genconfig.php<br />cp config/LocalSettings.php /var/www/wiki/<br />rm -rf /tmp/genconfig.php /tmp/config<br /></pre><br />What on earth is all this ? Well this code configures mediawiki with a default config. Instead of supplying a default config, Fedora lets you surf to your wiki, fill in some variables to generate a configfile, which you then have to copy to the correct place.<br /><br />In the script I just pasted, this is all done automagically. I fake the execution environment of the config/index.php script and execute it from commandline. It will create the necessary database and tables and generate a LocalSettings.php, which is then copied to the correct place.<br /><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;">ln -s /usr/share/mediawiki/skins/ /var/www/wiki/</pre><br />After all this fiddling, the installed mediawiki still looks like crap. This is because the mediawiki apparently forgot where it placed the directory with all the skins. A symlink should fix that.<br /><br /><pre style="background-color: #EEEEEE; border: black 1px dashed; line-height: 100%; padding: 10px;">chmod a= /var/www/wiki/config</pre><br />No need for this directory to be publicly avaiable.<br /><br />Some of you have commented that I should read the INSTALL file as specified on <a href="http://www.mediawiki.org/wiki/Manual:Running_MediaWiki_on_Fedora_Core">this wiki</a>.<br />Actually, I shouldn't have to because that's what packages are for. But just so you know, I did look there (/usr/share/mediawiki/INSTALL) (By the way, doesn't Fedora have some kind of policy where documentation should go ? What is /usr/share/doc for ?) and it doesn't mention anything about where to surf to (http://somewhere/wiki/) or whether or not to fix the skins directory.
  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page16">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page14">Newer</a>
    
  
</div>

    </div>

  </body>
</html>
