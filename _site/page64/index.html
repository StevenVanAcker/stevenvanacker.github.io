<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Singularity.be &middot; Flawed logic inspecting flawed logic
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Singularity.be
        </a>
      </h1>
      <p class="lead">Steven Van Acker's blog</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
        
      
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/projects/">Projects</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/publications/">Publications</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    </nav>

    <!-- <p>&copy; 2016. All rights reserved.</p> -->
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2007/02/23/couple-of-thoughts/">
        a couple of thoughts
      </a>
    </h1>

    <span class="post-date">23 Feb 2007</span>

    When I woke up this morning, I was wondering about negations in firewall rules. Once a trie is built that contains all network addresses and ranges, it's easy to check whether a given IP address matches any part of that trie. But how to store negated network ranges in the trie ?<br /><br />For example, I want to drop all packets that don't go to 10.0.0.1. Since that IP address has netmask 255.255.255.255 or CIDR mask 32, it is stored at the bottom of the tree (well, actually at the leaves, which are at the top). When a packet comes in with some IP address, how will I know that it has to be dropped EXCEPT when the destination is 10.0.0.1 ?<br /><br />By the time I was in the shower, I had figured out the lazy approach to this. Instead of storing 10.0.0.1, I have to store every network range that does not contain 10.0.0.1, which would be 32 network ranges with CIDR mask going from 1 to 32. That takes up 32 times more memory than storing a single IP!<br /><br />Now that can't be the most efficient approach, but at least I can fall back on that one. The space complexity would still be O(n), but instead of being 2*n, it would be 32*n in the case of all negations.<br /><br />Back to the papers. I've read quite a lot of them lately, but none of them seem to touch this subject. All papers are theoretical and very few of them touch any practical issues at all. In my quest for an answer, I fell over the FIS (fat inverted segment) tree, described in the Feldmann/Muthukrishnan paper, a couple times.<br /><br />I'm ashamed to say I still don't understand how it works :(<br />I'm currently implementing what is called a segment trie: starting at the root, nodes are stored as children (meaning there is a pointer from root to child node). Each node contains rule data, each edge contains classification data.<br /><br />The FIS tree/trie works the other way around. All leave nodes have pointers to their parents and so on, all the way up to the root.<br />The question that pops up right away is this: given an arbitrary IP address, how do I walk through the tree ? First, I would have to locate the subnet stored in a leaf node that contains this IP address, and then I can go up the chain to see which other (larger) subnets also contain the IP.<br /><br />But, locating a leaf node is the whole point of a tree/trie! So how do I do that in a FIS ? Go over all leaf nodes one by one untill I find it ? Possibly using a binary search, which would take O(log U) time, where U is the size of the universe of all possible IP addresses (2^32 for IPv4).<br />But how would that be different from a tree search in the first place ?<br /><br />I'll have to look into this some more...<br />I assume the NF-HiPAC system uses a FIS to do whatever it does, but I don't want to look at that yet.
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2007/02/22/een-half-dagje-1ebmw/">
        Een half dagje 1eBMW
      </a>
    </h1>

    <span class="post-date">22 Feb 2007</span>

    Ik doe de stomste dingen als ik verlof heb (en waarom nie ? ik moet al serieus genoeg zijn overal anders)<br /><br />Vandaag had ik afgesproken om in de namiddag mee les te volgen met 1e bach Biomedische Wetenschappen. Ik had al vanalles bij om te lezen: boeken, magazines en papers (zoveel zelfs dat de printer zonder papier zat), maar dat is overbodig gebleken.<br /><br />Blijkbaar kon ik nog redelijk goed volgen... 't 2de semester is dan ook nog maar pas begonnen :)<br /><br />Eerste les (celbiologie ofzo ? [Update 20070223: Moleculaire Biologie]) ging over de reproductie van DNA. Kheb er nooit bij stilgestaan wat daar allemaal komt bij kijken. Eerst wordt de dubbele helix van mekaar gerukt en dan stript een eiwit het helemaal los. Terwijl beide helften loskomen wordt er RNA aangemaakt en worden lussen en al dat soort stuff ongedaan gemaakt door 2 andere componenten. Al bij al veel werk voor een operatie door zoveel gebeurt. Het deed mij zowat denken aan een tekenfilmserie die ik ooit gekeken heb: "Het leven".<br /><br />De tweede les was een les anatomie die vandaag ging over gladde spieren en skeletspierweefsel. Naast de belachelijk complexe terminologie die gebruikt wordt voor ongeveer vanalles, had de prof nog zijn eigen ideeen over spelling en rare zinsconstructies. Maar dat maakte de boel niet minder interessant...<br /><br />Zoals zoveel zaken kan ik mij wel inbeelden dat ik al die lessen wil volgen om te weten hoe alles werkt. Maar om examen te doen over zoiets en dus al die termen vanbuiten te moeten leren ? Daar pas ik liever voor.<br /><br />PS: proficiat lijntje met uw erdoorzijn !
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2007/02/22/xet963/">
        XET963
      </a>
    </h1>

    <span class="post-date">22 Feb 2007</span>

    We zijn nu eind februari en in de KULeuven context wilt dat zeggen dat alle verlofdagen van 2006 opgebruikt moeten worden (anders zijt ge ze kwijt).<br /><br />Dus ik heb al mijn verlof opgenomen en heb sinds gisteren verlof tot maandag.<br /><br />Dinsdagavond kreeg ik telefoon van autocenter Danny, alwaar mijn nieuwe auto staat te blinken, dat mijn auto door de keuring is en dat ik die kan gaan inschrijven. Gisteren dus naar Ethias voor een auto-verzekering (zij schrijven de auto dan ook in en zorgen voor nummerplaten). Kostprijs: 594.20 euro. Daarin zit inbegrepen: burgerlijke aansprakelijkheid (bonus-malusgraad 11), rechtsbijstand plus en een bestuurdersverzekering. Bovendien doe ik automagisch mee aan een interne tombola waarmee ik een Renault Clio kan winnen...<br /><br />Mijn nummerplaat komt vrijdag of zo aan in Kapelle-op-den-Bos (waar ik tot na de federale verkiezingen in juni nog gedomicilieerd ben) en daar zal XET963 opstaan. <br /><br />[Update 5 minuten later]<br />Lijntje zegt mij dat ik mijne auto in de Vanuata eilanden had moeten registreren:<br />http://www.ptclub.com/images/others/V_Plates.jpg<br />http://www.ptclub.com/taxfreecars.html<br />
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2007/02/22/geen-vakbondslidgeld-geen/">
        geen vakbondslidgeld == geen werkloosheidsuitkering ?
      </a>
    </h1>

    <span class="post-date">22 Feb 2007</span>

    In de Gazet van Antwerpen staat vandaag <a href="http://www.gva.be/nieuws/Binnenland/default.asp?art={4537A51D-F4BD-40AF-80EE-7260DC015EE7}">een artikel over iemand die zijn vakbonslidgeld niet betaald heeft en daarom geen werkloosheidsuitkering meer krijgt</a><br /><br /><pre><br />22/02 Vakbond dreigt stempelgeld in te houden<br /><br />Een werkloze met financiÃ«le problemen dreigt volgende maand zijn<br />werklozensteun niet te krijgen, omdat hij achterstaat met de betaling<br /> van het ACV-lidgeld. <br /><br />Dat maakte kamerlid Guido De Padt (Open Vld), voorzitter van het <br />OCMW in Geraardsbergen, bekend. Ook voor een andere werkloze <br />dreigde ACV al met het inhouden van de eerstvolgende uitkering. Toen <br />ging het om een achterstand van 34,21 euro, in het huidige geval om <br />57 euro. Dat staat donderdag in Het Laatste Nieuws. <br /><br />De man was bij het OCMW gaan aankloppen omdat hij al drie dagen <br />niet meer had gegeten. De dienst wou hem 100 euro toekennen, maar <br />de werkloze vroeg 50 euro extra om zijn achterstallig lidgeld van de <br />vakbond te kunnen betalen. "Ik kon dit niet geloven, tot ze de brief <br />van de vakbond onder mijn neus schoven", zegt De Padt. <br /><br />Minister van Werk Peter Vanvelthoven reageert geschokt. "Dit is <br />schandalig", zegt de minister, "het vakbondslidgeld heeft niets te <br />maken met de uitkering van werklozensteun. Dreigen met het stoppen <br />van een dienstverlening waarvoor men door de overheid betaald wordt, <br />kan totaal niet door de beugel. De vakbond is louter doorgeefluik".<br /></pre><br /><br />Een schande voor de vakbonden! Dit bewijst nog maar eens hoeveel macht vakbonden in Belgie wel hebben, en hoe weinig ze eigenlijk inzitten met de kleine man.
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2007/02/16/early-statistics/">
        Early statistics
      </a>
    </h1>

    <span class="post-date">16 Feb 2007</span>

    The latest implementation of my HPPC system provides means to add rules and match an IP-address against the system.<br />At this point I'm getting about 3.7 million classifications per second, but I'm not sure if this rate will hold. Some more code needs to be added to actually go through all matching rules and match against other factors (custom matches like IPP2P for example), aswell as some optimisations to speed up everything.<br /><br />But 3.7 million classifications as a first estimate is not bad. Most packets will have at least 4 fields to match against: source/destination IP and source/destination port number. This could result in about 900K packet-classifications per second (or possibly 900.000 packets per second throughput). Assuming an average of 200 bytes per packet, this would give a throughput of 180MB/s which is more than 1Gb/s.<br /><br /><pre><br />(deepstar/tachyon) ~/projects/hppc$ time ./a.out 400000000 `cat data/mccoy1-sources.txt`<br /><br />real	1m53.718s<br />user	1m46.495s<br />sys	0m0.216s<br />(deepstar/tachyon) ~/projects/hppc$ bc<br />bc 1.06<br />Copyright 1991-1994, 1997, 1998, 2000 Free Software Foundation, Inc.<br />This is free software with ABSOLUTELY NO WARRANTY.<br />For details type `warranty'. <br />400000000/106<br />3773584<br />(deepstar/tachyon) ~/projects/hppc$ <br /></pre>
  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page65">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page63">Newer</a>
    
  
</div>

    </div>

  </body>
</html>
